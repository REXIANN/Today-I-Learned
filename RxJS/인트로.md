# 인트로

시간의 마법사 RxJS

여러개의 비동기 작업들을 RxJS를 통해 쉽게 할 수 있다.

데이터베이스 입출력, http 요청 등이 있다. 자스 라이브러리들은 노드 런타임의 특성상 싱글 스레드로 동작하기 때문에 콜백이나 혹은 프로미스의 도움을 통해 처리가 되어 왔다. 따라서 자바스크립트의 동작 순서를 이해해야 한다.

무조건 콜백회로를 만들거나 순차적일 필요가 없는 로직들에 await을 붙여서 순차적 로직을 짜는 일이 있다. 이것은 자스의 이벤트루프의 의미가 퇴색되는 일이다. 

또한 아무리 복잡하고 순서를 꼬아도 어떻게 그 작업들을 구성하고 작성해야 하는지에 대한 노하우를 배울 수 있다.

### 예시

> 3분에 한번씩 주식 거래소와 거래를 시작하되 거래를 할 때 마다 1000번의 API콜을 100개씩 1초에 한번씩 API콜을 하고 싶어.
> 

RxJS로는 한줄로 짤 수 있다!

이 강의에서 리**액티브 프로그래밍이란 무엇인지, 또한 그 뼈대를 이루는  데이터 스트림이 무엇인지, 또 그 구현체인 옵저버블이 무엇인지** 확실하게 배울 수 있다. 어떠한 비동기 작업이 오더라도 당황하지 않고 처리할 수 있다.

위의 예시를 자스로 짰을 때

```jsx
setInterval(() => {
	if (tradeCount < 1000) {
		startTrade()
		tradeCount++
	}
}, 60 * 1000)

function startTrade() {
	let apiCallCount = 0
	setInterval(() => {
	if (tradeCount < 1000) {
		apiCall
			.then(insertToDB())
			.then(() => { apiCallCount++ })
	}
	}, 1)
}
```

추가요청이 들어온다면...?

- 한번의 주식 거래마다 5ms 간격으로 100번간격으로 호출하고 그 결과를 데이터베이스에 저장해주세요!
- 성능 문제로 API 호출을 할 때 동시에 10개씩은 동시요청이 가능하니까 10개씩 묶어서 요청해주는게 좋을 거 같아요!
- 한번 거래시마다 데이터베이스에 저장한뒤 id 값을 포함한 json파일을 만들어서 실시간으로 슬랙채널로 전달해주세요!

~~야이 ㅁㄴㅇㄹㅂㅈㄷ~~

RxJS를 사용하면 추가적인 요구사항을 반영해서도 이렇게 만들 수 있다

```jsx
function startTrade() {
	return Rx.interval(5).pipe(
		take(100),
		map(requestToApi()),
		mergaAll(10),
		mergeMap(insertToDB())
	)
}

function main() {
	Rx.interval(60 * 1000).pipe(
		mergaMap(() => startTrade()),
		mergeMap(() => sendSlack())
	)
}
```

- 복잡한 일련의 비동기 작업들을 자유롭게 처리할 수 있다.
- 가장 중요한 개념인 Observable의 개념을 명확하게 이해할 수 있다.
- Data stream객체(Observable)을 자유롭게 활용하기 위한 다양한 오퍼레이터를 알 수 있다.